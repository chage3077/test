# 1.SHaderGraph的节点以及原理
## Channel通道
### split节点
    进行分离通道，用于将一个 向量（Vector）或颜色（Color） 的各个分量（通道）拆分成独立的输出。
* Vector2可以拆分成x,y两个量
* Vector3可以拆分成x,y,z三个量
* Vector4可以拆分成x,y,z,w四个量
* 一张UV图（Color）可以拆分成R,G,B,A四个量

使用场景

    1.单独控制通道
    2.分离 UV 坐标
    3.从法线贴图中提取 RGB 通道，单独调整或混合
    4.顶点位移：分离顶点位置的 XYZ，单独处理某一轴向
    5.数学运算：对向量的不同分量进行独立计算

## Mathf运算
### SmoothStep节点
    用于生成平滑的插值过渡效果，是着色器中实现“柔和边缘”或“渐变控制”的核心工具之一。

    1.平滑插值
    平滑插值两个阈值（Min 和 Max）之间的位置，返回一个 平滑过渡的 0~1 值（类似缓动曲线）
    In值<Min,返回Min值
    In值>Max,返回Max值
    输入值在 Min 和 Max 之间：输出 平滑过渡的曲线值

    2.抗锯齿与柔化
    避免硬边缘（如 Step 节点的阶跃突变），使过渡更自然，常用于光照、溶解、遮罩等效果

<b>使用场景</b>
* 边缘柔化（抗锯齿）
```plaintext
溶解效果：控制溶解边缘的模糊范围。
输入：噪声图 → 对比度调整 → SmoothStep → 控制 Alpha 裁剪。
```
* 遮罩过渡：让遮罩的显示/隐藏更平滑。
```plaintext
溶解效果：控制溶解边缘的模糊范围。
输入：距离值 → SmoothStep → 驱动颜色渐变或透明度。
```
* 菲涅尔效应
```plaintext
输入：法线与视角点乘 → SmoothStep → 控制高光强度。
```
* 阴影衰减：平滑阴影的边缘过渡
```plaintext
输入：光照衰减值 → SmoothStep → 调整阴影硬度。
```
* 动画曲线：平滑控制材质参数的变化（如缩放、旋转）。
```plaintext
输入：时间 → SmoothStep → 驱动 UV 偏移或顶点位移。
```
* 渐变纹理：将灰度图转换为平滑的过渡遮罩。
```plaintext
输入：渐变采样值 → SmoothStep → 作为混合系数（Lerp 的 Alpha）。
```
* 颜色阈值化：将图像转换为平滑的二值效果（类似水墨风格）
```plaintext
输入：亮度 → SmoothStep → 输出黑白柔化区域。
```
<b>使用技巧</b>

* 反转过渡方向：交换 Edge1 和 Edge2 的值，可使曲线反向（从 1→0 过渡）

* 多通道处理：对 Vector 输入逐通道应用 SmoothStep，可实现分通道控制（如 RGB 独立柔化）。

* 动态阈值控制：将 Edge1 和 Edge2 连接到外部参数（如脚本变量），可实时调整过渡范围。

* 性能优化：优先对标量使用 SmoothStep，避免对向量逐通道计算（除非必要）。
### substract节点
    对输入的两个值（标量、向量或颜色）进行逐分量减法操作
<b>使用场景</b>

* 降低亮度：用颜色减去一个标量或颜色值，实现暗化效果 
```plaintext
输入：颜色 A → Subtract → 输入标量 0.2 → 输出更暗的颜色。
```
* 反向颜色：用 1.0（白色）减去颜色，得到反色效果
```plaintext
输入：颜色 A → Subtract → 输入颜色 (1,1,1,1) → 输出反色。
```
* UV 偏移：用 UV 坐标减去一个值，实现纹理平移
```plaintext
输入：UV → Subtract → Vector2 (0.1, 0) → 输出左移的 UV。
```
* 顶点动画：对顶点位置进行动态减法运算（如模拟重力下坠）。
```plaintext
输入：Position → Subtract → 时间驱动的位移值 → 输出新位置。
```
* 反向遮罩：用 1.0 减去遮罩值，反转遮罩区域。
```plaintext
输入：遮罩 → Subtract → 1 → 输出反向遮罩。
```
* 差值混合：通过减法获取两个纹理的差异区域（如边缘检测）。
```plaintext
输入：TextureA → Subtract → TextureB → 输出差异图。
```
* 深度处理：计算深度差异（如物体与相机的距离差）。
```plaintext
输入：深度值 A → Subtract → 深度值 B → 输出深度差。
```
* 边缘高光：用物体表面法线与视角方向点乘结果减去阈值，生成边缘光
```plaintext
输入：法线·视角 → Subtract → 0.2 → 输出高光遮罩。
```
### absolute节点
    用于将输入值的所有分量转换为非负数。
<b>使用场景</b>

* 镜像纹理：通过取 UV 的绝对值，使纹理在正负区间对称。
* 无缝平铺：结合 Frac 节点生成重复且对称的图案
* 边缘检测：计算两个纹理或值的绝对差值，突出变化区域。
* 距离测量：将向量减法后的结果取绝对值，表示无方向的距离。
* 波动动画：对时间驱动的正弦波取绝对值，生成“脉冲”效果
* 模拟活塞运动的往复位移（如 abs(sin(Time))）
* 法线对称化：确保法线贴图的某些分量始终为正（如风格化渲染）
* 高光柔化：对视角与法线的点乘结果取绝对值，避免负值干扰计算。
* 防止负值溢出：将可能为负的参数（如自定义光照强度）修正为非负值。
* 颜色安全：确保颜色值在 [0,1] 范围内（结合 Clamp 节点更彻底）。
## divide节点
    用于对输入的两个值（标量、向量或颜色）进行逐分量除法操作。
<b>使用场景</b>

* 缩小范围：用标量除法缩小参数值（如将 [0,10] 缩放到 [0,1]）。
* 调整对比度：通过颜色除法增强或减弱对比度
* 纹理平铺：用 UV 坐标除以标量，增加纹理重复次数
* 动态缩放：结合时间参数实现动态缩放效果
* 亮度平衡：通过颜色除法调整不同通道的亮度比例
* 高光衰减：用除法控制高光强度的衰减速率
* 差值归一化：将差值除以最大值，转换为比例值
### One Minus节点
    将输入值的每个分量反转（即用 1 减去输入值），是处理颜色反转、遮罩反向或数值翻转的常用工具
    作用：
    1.将输入值（标量、向量或颜色）的每个分量用 1 减去，实现 反向效果
<b>使用场景</b>

* 反色效果：将颜色反转生成互补色。
* 亮度反转：将灰度图的明暗区域互换。
* 反向遮罩：交换遮罩的显示与隐藏区域。
* 不透明度转换：将透明度（Alpha）转换为不透明度
* 反向插值：将 Lerp 的混合方向反转
* 溶解反向：控制溶解效果从边缘向中心蔓延
### Clamp节点
    确保输出值始终位于指定的最小值和最大值之间。它是处理数值安全性和效果控制的关键工具
### Multiply节点
    用于对输入的两个值（标量、向量或颜色）进行逐分量乘法操作
    作用：
    1.基础数学运算
    2.效果控制常用于颜色混合、亮度增强、纹理叠加、缩放数值等场景。
<b>使用场景</b>

* 颜色叠加：将两个颜色相乘，模拟光线叠加效果（类似正片叠底）
* 阴影衰减：用光照强度乘以阴影遮罩，生成自然衰减效果
* 提亮/压暗：用标量乘法调整整体亮度
* 对比度增强：通过颜色乘法强调高光和阴影差异
* 纹理混合：将两个纹理相乘，生成混合图案（如锈迹叠加在基础材质上）
* 遮罩叠加：通过乘法合并多个遮罩，仅保留共同区域
* 纹理平铺：用 UV 坐标乘以标量，增加纹理重复次数
* 顶点位移缩放：对顶点位移量进行动态缩放